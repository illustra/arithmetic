$(document).ready(function(){FastClick.attach(document.body),$("#check").click(Mathcercise.game.handler),$("#main").click(Mathcercise.endGame),$("#gametitle").click(function(){Mathcercise.checkIfReady()&&Mathcercise.beginGame()}),$("#modeselector .options td").each(function(){$(this).click(function(){$(this).hasClass("active")?($(this).removeClass("active"),Mathcercise.params.mode=0):($(this).addClass("active"),$("td[data-mode="+Mathcercise.params.mode+"]").removeClass("active"),Mathcercise.params.mode=parseInt($(this).attr("data-mode"))),Mathcercise.checkIfReady()})}),$("#levelselector .options td").each(function(){$(this).click(function(){if($(this).hasClass("active"))$(this).removeClass("active"),Mathcercise.params.range=[null,null];else if($("#levelselector td.active").removeClass("active"),$(this).addClass("active"),$(this).hasClass("o4"))$("#customlevel").fadeIn(150);else{var e=(Mathcercise.params.range,$(this).attr("data-range").split("-"));Mathcercise.params.range=[parseInt(e[0]),parseInt(e[1])]}Mathcercise.checkIfReady()})}),$("#dialogentry td").each(function(){$(this).click(function(){var e=$("#entered").text();if(!$(this).attr("data-action")&&e.length<2){var a=$(this).text();$("#entered").text(e+a)}else{var t=$(this).attr("data-action");if("done"==t){var c=parseInt(e);if(0==e.length)$("#customlevel").fadeOut(150),$("#levelselector .o4").removeClass("active");else if(isNaN(c)||c<1||c>10)$("#dialogtitle h3").text("1 to 10 only."),window.setTimeout(function(){$("#dialogtitle h3").text("How many digits?")},2500);else{var s=Math.pow(10,c-1),i=Math.pow(10,c)-1;Mathcercise.params.range=[s,i],Mathcercise.checkIfReady(),$("#customlevel").fadeOut(150)}}else"delete"==t&&$("#entered").text(e.slice(0,-1))}})})});var Mathcercise={game:null,params:{mode:0,range:[]},checkIfReady:function(){return 0!=this.params.mode&&null!=this.params.range[1]?($("#gametitle").addClass("active"),$("#gametitle h1").text("start game"),!0):($("#gametitle").removeClass("active"),$("#gametitle h1").text("mathcercise"),!1)},beginGame:function(){$("#mainmenu").animate({left:"-100%"},400),this.game.currentRange=this.params.range,this.game.currentMode=this.params.mode,this.game.begin()},endGame:function(){$("#mainmenu").animate({left:"0"},400),$("#modeselector .active").removeClass("active"),$("#levelselector .active").removeClass("active"),Mathcercise.params.mode=0,Mathcercise.params.range=[null,null],Mathcercise.game.currentMode=0,Mathcercise.game.currentRange=[null,null],Mathcercise.checkIfReady()}};